parameters:
    neo4j.client.base_url: "http://%neo4j.client.host%:%neo4j.client.port%"
    neo4j.client.log: ~

services:
    neo4j_adapter_with_mysql_cache:
        class: Erfurt_Store_Adapter_SparqlSqlCombination
        arguments: ["@neo4j.sparql_adapter", "@mysql.sql_adapter"]

    neo4j.sparql_adapter:
        class: Erfurt_Store_Adapter_Sparql_GenericSparqlAdapter
        arguments: ["@neo4j.sparql_connector"]

    neo4j.sparql_connector:
        alias: neo4j.sparql_connector.default

    neo4j.sparql_connector.default:
        class: Erfurt_Store_Adapter_Neo4J_Neo4JSparqlConnector
        arguments: ["@neo4j.client.sparql_api", "@neo4j.client.store_management"]

    neo4j.client.store_management:
        class: Erfurt_Store_Adapter_Neo4J_StoreManagementClient
        arguments: ["@neo4j.client.api"]

    neo4j.client.sparql_api:
        class: Erfurt_Store_Adapter_Neo4J_SparqlApiClient
        factory_class: Erfurt_Store_Adapter_Neo4J_SparqlApiClient
        factory_method: factory
        arguments:
            -
                base_url: "%neo4j.client.base_url%"
                log:      "%neo4j.client.log%"
                "curl.options":
                    body_as_string: true

    neo4j.client.rest_api:
        class: Everyman\Neo4j\Client
        arguments: ["%neo4j.client.host%", "%neo4j.client.port%"]

    neo4j.client.api:
            class: Erfurt_Store_Adapter_Neo4J_ApiClient
            factory_class: Erfurt_Store_Adapter_Neo4J_ApiClient
            factory_method: factory
            arguments:
                -
                    base_url: "%neo4j.client.base_url%"
                    log:      "%neo4j.client.log%"
                    "curl.options":
                        body_as_string: true

    mysql.sql_adapter:
        class: Erfurt_Store_Adapter_Sql_ZendDb
        arguments:
            -
                host:     "%mysql.host%"
                username: "%mysql.username%"
                password: "%mysql.password%"
                dbname:   "%mysql.dbname%"
                dbtype:   "mysql"