parameters:
    neo4j.client.base_url: "http://%neo4j.client.host%:%neo4j.client.port%"
    neo4j.client.log: ~

services:
    neo4j.sparql_connector:
        alias: neo4j.sparql_connector.default

    neo4j.sparql_connector.default:
        class: Erfurt_Store_Adapter_Neo4J_Neo4JSparqlConnector
        arguments: ["@neo4j.client.sparql_api", "@neo4j.client.store_management"]

    neo4j.client.store_management:
        class: Erfurt_Store_Adapter_Neo4J_StoreManagementClient
        arguments: ["@neo4j.client.rest_api"]

    neo4j.client.sparql_api:
        class: Erfurt_Store_Adapter_Neo4J_SparqlApiClient
        factory_class: Erfurt_Store_Adapter_Neo4J_SparqlApiClient
        factory_method: factory
        arguments:
            -
                base_url: "%neo4j.client.base_url%"
                log:      "%neo4j.client.log%"
                "curl.options":
                    body_as_string: true

    neo4j.client.rest_api:
        class: Everyman\Neo4j\Client
        arguments: ["%neo4j.client.host%", "%neo4j.client.port%"]